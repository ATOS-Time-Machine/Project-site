---
title: Generating a token (General User)
tag: token
---
<p>To generate a token you have to make use of the /login POST request which is written as follows:</p>
<pre><code class="language-js">
app.post("/login", function (req, res) {
    console.log("Logging in");
    var query = "SELECT Password FROM Users WHERE StaffID=?;";
    connection.query(query, [req.body.log_id],function (error, results) {
        if (error) {
            throw error;
        } else {
            if (req.body.log_password === "111") {
                res.json({
                    success: (req.body.log_password === results[0].Password),
                    token: req.body.log_id
                });
            } else {
                console.log(results[0].Password);
                res.json({
                    success: bcrypt.compareSync(req.body.log_password, results[0].Password),
                    token: req.body.log_id
                });
            }
        }
    });
});
</code>
</pre>
<p>A POST request to /login requires the following information in the described JSON:</p>
<pre><code class="language-js">
{
    log_id: log_id,
    log_password: log_password
}
</code></pre>
<p>If the information provided is valid then the message returned will contain the following in the described JSON:</p>
<pre><code class="language-js">
{
  success: <true/false>,
  token: <token value>
}
</code></pre>
<p>This token will be necessary to use any of the other functions listed, and depending on the credentials used to generate the token, some function may still be off limits.</p>